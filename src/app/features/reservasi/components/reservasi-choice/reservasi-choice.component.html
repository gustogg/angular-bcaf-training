
<ng-template #content let-modal>
  <div class="modal-header d-flex gap-4  tw-bg-violet-500">
    <h4 class="modal-title modal-title tw-font-bold tw-text-xl tw-text-white" id="modal-basic-title">Reservations</h4>
    <div class="form-group w-100">
      <input
        [(ngModel)]="query"
        type="text"
        class="form-control"
        (keydown.enter)="onSearchReservation()"
      />
    </div>
    <button
      type="button"
      class="btn-close"
      aria-label="Close"
      (click)="modal.dismiss('Cross click')"
    ></button>
  </div>



  <table class="tw-table-auto tw-w-full tw-mt-4">
    <thead class="tw-shadow-md">
      <tr>
        <th class="tw-px-4 tw-py-2 tw-bg-violet-500 tw-text-white">Customer</th>
        <th class="tw-px-4 tw-py-2 tw-bg-violet-500 tw-text-white">Nomor Kontrak</th>
        <th class="tw-px-4 tw-py-2 tw-bg-violet-500 tw-text-white">Nomor BPKB</th>
        <th class="tw-px-4 tw-py-2 tw-bg-violet-500 tw-text-white">Tipe Kendaraan</th>
        <th class="tw-px-4 tw-py-2 tw-bg-violet-500 tw-text-white">Jadwal</th>
        <th class="tw-px-4 tw-py-2 tw-bg-violet-500 tw-text-white">Action</th>

      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let r of reservations!.data" class="tw-border-t">
        <td class="tw-px-4 tw-py-2">{{ r.customer.name }}</td>
        <td class="tw-px-4 tw-py-2">{{ r.nomorKontrak }}</td>
        <td class="tw-px-4 tw-py-2">{{ r.nomorBPKB }}</td>
        <td class="tw-px-4 tw-py-2">{{ r.tipeKendaraan }}</td>
        <td class="tw-px-4 tw-py-2">{{ r.jadwal | date : "medium" }}</td>
        <td class="tw-px-4 tw-py-2">
          <button
            (click)="onGetReservation(r); modal.close()"
            class="tw-bg-violet-500 tw-text-white btn hover:tw-text-violet-800 hover:tw-shadow-lg"
          >
            Pilih
          </button>
        </td>
      </tr>
    </tbody>

  </table>

  <div class="tw-modal-footer tw-bg-gray-100 tw-p-4 tw-rounded-b-lg tw-text-right">
    <tfoot class="">
      
      <ngb-pagination class=""
        [(page)]="page"
        [pageSize]="5"
        [collectionSize]="reservations.items"
        (pageChange)="onPaginateReservation($event)"
      />
    </tfoot>
    <button
      type="button"
      class="tw-btn tw-bg-violet-500 tw-text-white tw-px-4 tw-py-2 tw-rounded hover:tw-bg-violet-600"
      (click)="modal.close('Save click')"
    >
      Dismiss
    </button>
  </div>
</ng-template>

<button class="tw-w-40 tw-text-center tw-text-xs tw-btn tw-bg-violet-500 tw-text-white hover:tw- tw-px-2 tw-py-2 tw-font-bold tw-uppercase tw-rounded hover:tw-bg-violet-600" (click)="open(content)">
  Detail Reservations
</button>
